<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/bluebird@3.5.3/js/browser/bluebird.js"></script>
    <script src="https://cdn.steemjs.com/lib/latest/steem.min.js"></script>
  </head>
  <body>
    <script>
      const broadcast = false;
      const account = 'techdev';
      const masterPassword = '';
      (async () => {
        // accountUpdate(wif, account, owner, active, posting, memoKey, jsonMetadata): Promise
        const accountUpdate = Promise.promisify(steem.broadcast.accountUpdate);
        const keys = steem.auth.getPrivateKeys(account, masterPassword, ['active', 'memo']);
        console.log(keys.active);
        if (broadcast) {
          
          const res = await accountUpdate(keys.active, account, undefined, undefined, undefined, keys.memoPubkey, {
            
            "profile": {
              "type": "app",
              "creator": "certseek",
              "is_public": true,
              //"secret": "",
              "redirect_uris": [
                "http://localhost:8000/steemconnect/"
              ],
              "name": "techitdev",
              "about": "techitdev",
              "website": "https://dnom.io/",
              "profile_image": "https://dnom.io/special/dnom-icon.png",
              "location": "dNOM"
            }
          });
          console.log(res);
        } else {
          console.log('Account update broadcast ignored...');
        }
      })().catch(e => console.error(e));
    </script>
  </body>
</html>